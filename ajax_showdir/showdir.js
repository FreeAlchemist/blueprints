var path = {"DATA":{"CLIENT":{"PERSONAL":{"CLIENT_SYS_ID":"1662696691","FIRST_NAME":"Наталья","LAST_NAME":"Воронова","SUR_NAME":"Владимировна","PREV_LAST_NAME":"Лень","BIRTH_DATE":"19900331","BIRTH_PLACE":"гор.Магдебург Германия","SEX":"2","EDUCATION_ID":"16562562","CITIZEN":"RUS"},"PASSPORT":{"SERIA":"4005","NUM":"210089","DATE":"20120731","DEP_CODE":"782-001","WHO":"1 Отделом милиции Адмиралтейского района Санкт-Петербурга","WHERE":"г. Санкт-Петербург"},"DRIVER_DOC":{"SERIA":"78","NUM":"068933","DATE":"20090822","WHO":"02 ГИБДД50"},"DECLARATION":{"LAW_CLAIM":"0","IN_COURT":"0","PUNISH":"0","EXP_CREDITS":"0","ALIMENTS":"0","RESTRICTIONS":"0"},"CONTACTS":{"MOBILE_PHONE":"9201125657"},"ADDRESSES":{"ADDRESS":[{"ADR_TYPE":"REG","REGION_REF":"13342753","REGION":"Санкт-Петербург","PLACE_REF":"13342755","PLACE":"Санкт-Петербург","STREET_REF":"13343799","STREET":"Искровский","INDEX":"190000","HOUSE":"5","FLAT":"108","DATE":"20150305","ADR_RESIDENCE_STATUS_ID":"507001027"},{"ADR_TYPE":"FACT","REGION_REF":"12936694","REGION":"Ленинградская","DISTRICT_REF":"12941242","PLACE_REF":"12942968","PLACE":"Гатчина","STREET_REF":"16157339","STREET":"Балтийская линия 45","INDEX":"188301","HOUSE":"5","FLAT":"8","PHONE":"4852640502","ADR_RESIDENCE_STATUS_ID":"507001027"}],"ADDR_EQ":"0"}},"CLIENT_WORK":{"EMPLOIMENT_TYPE_ID":"8929874","WORK_PLACE":{"CURRENT":"1","PHONE":"8122331633","TIME_Y":"6","ACTIVITY_KIND_ID":"506720706","ADDR_EQ":"1","ADDRESS":{"ADR_TYPE":"WORK","REGION_REF":"13342753","REGION":"Санкт-Петербург","PLACE_REF":"13342755","PLACE":"Санкт-Петербург","STREET_REF":"13344640","STREET":"Невский","INDEX":"190000","HOUSE":"89","SHOUSE":"2"},"ORG_NAME":"И,П Шуваева","POS":"Администратор","CHIEF":"Индивидуальный Предприниматель Шуваева Ирина Валерьевна","SALARY":"8000000","INN_COMPANY":"7801019292","FACT_ADDRESS":{"FACT_ADR_TYPE":"FACT_WORK","FACT_REGION_REF":"13342753","FACT_REGION":"Санкт-Петербург","FACT_PLACE_REF":"13342755","FACT_PLACE":"Санкт-Петербург","FACT_STREET_REF":"13344640","FACT_STREET":"Невский","FACT_INDEX":"190000","FACT_HOUSE":"89","FACT_SHOUSE":"2"}}},"FAMILY":{"MARRIAGE":"3","PERSONAL":{"FIRST_NAME":"Сергей","LAST_NAME":"Воронов","SUR_NAME":"Игоривич","BIRTH_DATE":"19901123"},"CONTACTS":{"WIFE_PHONE":"9052696208"},"PASSPORT":"","ADDRESSES":{"ADDRESS":{"ADR_TYPE":"WIFE","REGION_REF":"13342753","REGION":"Санкт-Петербург","PLACE_REF":"13342755","PLACE":"Санкт-Петербург","STREET_REF":"13344745","STREET":"Новочеркасский","INDEX":"195213","HOUSE":"56","SHOUSE":"2","FLAT":"53","DATE":"20120712"}},"FAMILY":{"DEPENDANTS":{"DEPENDANT":[{"FIRST_NAME":"Дарья","LAST_NAME":"Воронова","SUR_NAME":"Сергеевна","BIRTH_DATE":"20040811","NOTE":"Школьник"},{"FIRST_NAME":"Сергей","LAST_NAME":"Воронов","SUR_NAME":"Сергеевич","BIRTH_DATE":"20010404","NOTE":"Школьник"}]}},"WORK":""},"LOANS":{"LOAN":[{"SUMM":"200000000","ANNUITY":"1500000","BANK":"Сбербанк","END_DATE":"20350701"},{"SUMM":"90000000","BANK":"СБРФ","END_DATE":"20160101"}]},"PROPERTY":{"ESTATE":{"CLASS":"FLAT","WAY_BUY":"Ипотека"}},"EXPENCES":{"EXPENCE":[{"TYPE":"МОБ_СВЯЗЬ","SUMM":"100000"},{"TYPE":"ОБУЧЕНИЕ","SUMM":"500000"},{"TYPE":"ОБСЛУЖИВАНИЕ АВТОМОБИЛЯ","SUMM":"200000"},{"TYPE":"ОБЯЗАТЕЛЬСТВА","SUMM":"1500000"},{"TYPE":"МОБ_СВЯЗЬ"}]},"CONTACT_PERSONS":{"CONTACT_PERSON":[{"FIRST_NAME":"Юлия","LAST_NAME":"Калашникова","SUR_NAME":"Сергеевна","BIRTH_DATE":"19861123","STATUS_OWNER":"800575133","STATUS_OWNER_NAME":"Не родственник","RELATION":"Коллега","MOBILE_PHONE":"9650453958","ADDRESS":{"REGION_REF":"13342753","REGION":"Санкт-Петербург","PLACE_REF":"13342755","PLACE":"Санкт-Петербург","STREET_REF":"13343648","STREET":"Ефимова","INDEX":"190031","HOUSE":"1","SHOUSE":"4","FLAT":"3"}},{"FIRST_NAME":"Екатерина","LAST_NAME":"Прилепская","SUR_NAME":"Сергеевна","BIRTH_DATE":"19870411","STATUS_OWNER":"800575133","STATUS_OWNER_NAME":"Не родственник","RELATION":"Коллега","MOBILE_PHONE":"9650456958","ADDRESS":{"REGION_REF":"13342753","REGION":"Санкт-Петербург","PLACE_REF":"13342755","PLACE":"Санкт-Петербург","STREET_REF":"13343648","STREET":"Ефимова","INDEX":"190031","HOUSE":"1"}},{"FIRST_NAME":"Серафима","LAST_NAME":"Кукушкина","SUR_NAME":"Владимировна","BIRTH_DATE":"19810501","STATUS_OWNER":"14298894","STATUS_OWNER_NAME":"Брат / сестра","RELATION":"сестра","MOBILE_PHONE":"9998881515","ADDRESS":{"REGION_REF":"13317416","REGION":"Ярославская","DISTRICT_REF":"13326180","PLACE_REF":"13326996","PLACE":"Рыбинск","STREET_REF":"13327155","STREET":"Грекова","INDEX":"152915","HOUSE":"96"}}],"REASON_REFUSAL":"1"},"LOAN":{"PARAMS":{"FOLDER_ID":"10931307","TYPE":"1","BUS_PROCESS":"OPEN_CRED_AUTO","BUS_PROCESS_NAME":"Выдача автокредита","WAY_GIVE":"AUTO_ACC_CORP_PARTN","WAY_GIVE_NAME":"Автокредит. Перечислением на счет автосалона-партнера","GOAL":"16515307","SOURCE":"16512716","CURRENCY":"RUB","FIRST_PAY":"13500000","SUMM":"26500000","SUMMA_CRED_COM":"31291000","MAX_ALLOW_SUM":"31291000","FULL_PRICE":"26510","PERIOD":"36","UNIT":"M","ANNUITY":"1267411","CRED_SCHEME_ID":"1660032479","CRED_SCHEME_NAME":"Турбо кредит Б/У","RATE_PRC":"2640","CR_NS":"0","CR_2NDFL":"0","COMPLEX_INS":"1","REAL_INSUR_SUMM":"0"},"PR_TRANSPORT":{"AUTO":{"AUTO_ID":"1664057827","MADE_IN":"16518278","MADE_IN_STR":"ИНОСТРАННЫЙ","BRAND":"16519242","MODEL":"16519266","BRAND_STR":"Mazda","MODEL_STR":"Mazda 3","COST":"40000000","COST_DO":"0","YEAR":"2012","MILAGE":"20000","FIRST_PAY":"13500000","ADD_SERV":{"SERV_ID":"297894833","SERV_NAME":"Карта РИНГ \"ШОКОЛАД\"","SERV_QUANT":"1","SERV_PRICE":"1590000","SERV_COST":"1590000","SERV_IN_CRED":"1"},"OSAGO":{"CATEGORY_TS":"CATEG_B","POWER_TS":"P_L50","AGE_AND_EXP":"AE_L22_L3","REG_PLACE":"R50","BONUS_MALUS":"BM_3"},"TRADER":{"T_TR_SHOP_ID":"56330121","T_TR_BANK_ID":"14374130","T_TR_NAME":"Автосалон \"Гранат\" 2481","T_TR_INN":"7820312828","T_TR_KPP":"782001001","T_TR_ADDR":"ООО Автодом","T_TR_BANK":"ПАО \"БАНК \"САНКТ-ПЕТЕРБУРГ\"","T_TR_BIC":"044030790","T_TR_CORR_ACC":"30101810900000000790","T_TR_ACCOUNT":"40702810148000002481"}}},"PRE_INS_INFO":{"NS_IN":"0","NS_COST":"0","DAGO_IN":"0","DAGO_COST":"0","OSAGO_IN":"0","OSAGO_COST":"0","KASKO_IN":"1","KASKO_COST":"3200000","GAP_IN":"0","GAP_COST":"0"}},"INSURANCES":{"INSURANCE":[{"INS_ID":"1664466387","TYPE":"ОСАГО","MAY_BE_DELETED":"1","OBJECT":"Автомобиль Mazda Mazda 3, год вып. 2012","POLICY_NUM_ON":"1","IN_CRED":"0","SUMM":"0"},{"INS_ID":"1664466390","TYPE":"КАСКО","MAY_BE_DELETED":"0","OBJECT":"Автомобиль Mazda Mazda 3, год вып. 2012","POLICY_NUM_ON":"1","REGISTRATE":"1","IN_CRED":"1","SUMM":"0","COMMIS":"3200000","DATE_BEGIN":"20160121","END_DATE":"20170120"},{"INS_ID":"1664466393","TYPE":"ДАГО","MAY_BE_DELETED":"1","OBJECT":"Автомобиль Mazda Mazda 3, год вып. 2012","POLICY_NUM_ON":"1","IN_CRED":"0","SUMM":"0"},{"INS_ID":"1664466396","TYPE":"GAP","MAY_BE_DELETED":"1","OBJECT":"Автомобиль Mazda Mazda 3, год вып. 2012","POLICY_NUM_ON":"1","IN_CRED":"0","SUMM":"0"}]},"SERVICE_INFO":{"CODE_WORD":"совет","INFO_CHANNEL":"1097459422","COMMENTS":"2016-01-14 16:44:44 - Супервизор,----------------------------------------"},"SHORT_REQ":"","CARD_ISSUE":"","DBO":""}}
// console.log("path:")
// console.log(path)
var path0 = path.DATA.CLIENT



function show(obj,depth){
	var depth = depth || 0
	var tab=""
	var tab2=""

	for (var i = depth-1; i >= 0; i--) {
		tab+="/ "
		tab2+="&nbsp;"
	};

	for(var value in obj){
	 	if (typeof obj[value] === "object"){
	 		console.log("IF")
	 		console.log(tab+value)
	 		$("#show").append("<b>"+tab2+value+"</b><br>")
	 		show(obj[value],depth+1)
	 	}
	 	else{
	 		console.log("ELSE")
	 		console.log(tab+value+" : "+obj[value])
	 		$("#show").append(tab2+value+" : "+obj[value],"<br>")
	 	}
	}
}
// show(path.DATA.CLIENT)
// show(path.DATA.CLIENT.CONTACTS)
// show(path.DATA.CLIENT.PERSONAL)
// show(path.DATA.CLIENT.PERSONAL.SUR_NAME)



var path1 = ['DATA', 'CLIENT', 'PERSONAL','SUR_NAME'];
var path2 = ['DATA', 'CLIENT', 'ADDRESSES', 'ADDRESS', 1,'HOUSE'];
var path3 = ['DATA', 'FAMILY', 'FAMILY', 'DEPENDANTS', 'DEPENDANT', '{NUM}', 'LAST_NAME'];

function getValueOnPath(obj, path_array , array_key){
	console.log(obj)
	console.log(path_array)
	var resultobj=""
	var resultobj=obj
	var value=""
	var array_key = array_key || null
	value = path
	// value = obj[path_array];
	// value = value[array_key]

// value = value[path_array[99]]
// 	value = value[path_array[100]]
// 	value = value[path_array[101]]
// 	value = value[path_array[102]]
// 	value = value[path_array[103]]
	 
	for (var i = 0; i < path_array.length; i++) {
		// path_array[i]
		value = value[path_array[i]];
		console.log(value)
	};
	
return value

}

var r = getValueOnPath(path,path3)
console.log(r)
$("#show").append(r)